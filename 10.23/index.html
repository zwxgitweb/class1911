<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/index.css">

</head>

<body>
    <div class="body">
        <div class="box">
            <nav>
                <ul class="fmweifcjemw">
                </ul>
            </nav>
            <main>
                <ul class="mivremj">
                </ul>
            </main>
        </div>
    </div>
    <script>
        fetch('http://' + location.host + '/api/list')
            .then(b => {
                return b.text()
            }).then(b => {
                let date_ss = JSON.parse(b)

                //渲染
                fu(date_ss)
                //点击
                cfdasfdsa(date_ss)
            })

        function fu(date) {

            let fmweifcjemw = document.querySelector('.fmweifcjemw');
            let mivremj = document.querySelector('.mivremj');

            let str_1 = '';
            for (let i = 0; i < date.date.length; i++) {
                str_1 += `  <li>${date.date[i].name_l}</li>`
            }
            fmweifcjemw.innerHTML = str_1;

            let str_2 = '';
            for (let i = 0; i < date.date[0].ttenmi.length; i++) {
                str_2 += ` <li><p>${date.date[0].ttenmi[i].name_r_s}</p> <div class="mdocwwe">`;
                for (let j = 0; j < date.date[0].ttenmi[i].mxnwin.length; j++) {
                    str_2 += `<dl>
                                <dt><img src="${date.date[0].ttenmi[i].mxnwin[j].img}" alt=""></dt>
                                <dd>${date.date[0].ttenmi[i].mxnwin[j].name_r_x}</dd>
                                </dl>`
                }
                str_2 += `</div></li>`
            }
            mivremj.innerHTML = str_2;
        }

        function cfdasfdsa(date) {
            var mivremj = document.querySelector('.mivremj');
            let fmweifcjemw_li = document.querySelectorAll('.fmweifcjemw li');
            let mivremj_li = document.querySelectorAll('.mivremj li');
            fmweifcjemw_li[0].style = ' font-size: 18px;color: red;font-weight: 600;';
            for (let i = 0; i < fmweifcjemw_li.length; i++) {
                fmweifcjemw_li[i].onclick = function () {
                    for (let j = 0; j < fmweifcjemw_li.length; j++) {
                        fmweifcjemw_li[j].style = '';
                    }
                    fmweifcjemw_li[i].style = ' font-size: 18px;color: red;font-weight: 600;';
                    let srt_3 = '';
                    for (let p = 0; p < date.date[i].ttenmi.length; p++) {
                        srt_3 += ` <li><p>${date.date[i].ttenmi[p].name_r_s}</p> <div class="mdocwwe">`;
                        for (let j = 0; j < date.date[i].ttenmi[p].mxnwin.length; j++) {
                            srt_3 += `<dl>
                                <dt><img src="${date.date[i].ttenmi[p].mxnwin[j].img}" alt=""></dt>
                                <dd>${date.date[i].ttenmi[p].mxnwin[j].name_r_x}</dd>
                                </dl>`
                        }
                        srt_3 += `</div></li>`
                    }
                    mivremj.innerHTML = srt_3;
                }
            }
        }
    </script>
</body>

</html>